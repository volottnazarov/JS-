<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Homework 5</title>
  </head>
  <body>
    <p class="super_element">Привет</p>
    <img src="https://placeimg.com/50/50/animals" alt="" />
    <img src="https://placeimg.com/50/50/arch" alt="" />
    <img src="https://placeimg.com/50/50/nature" alt="" />
    <img src="https://placeimg.com/50/50/people" alt="" />
    <img src="https://placeimg.com/50/50/tech" alt="" />
    <img src="https://placeimg.com/50/50/tech/grayscale" alt="" />
    <img src="https://placeimg.com/50/50/tech/sepia" alt="" />
    <br />
    <button>Кнопка</button>
    <button class="super_element">Кнопка с классом btn</button>
    <button>Кнопка</button>
    <br />
    <textarea></textarea>
    <br />
    <ul>
      <li>
        <button>Кнопка 1</button>
      </li>
      <li>
        <button>Кнопка 2</button>
      </li>
      <li>
        <button>Кнопка 3</button>
      </li>
      <li>
        <button>Кнопка 4</button>
      </li>
    </ul>
    <script>
        /*1. Необходимо вывести сообщение в консоль "все теги прогрузились", когда все
             теги будут созданы браузером.*/

        document.addEventListener('DOMContentLoaded', () => {
            console.log('Все теги прогрузились');
        });

        /*2. Необходимо вывести сообщение в консоль "страница загрузилась", когда все
             ресурсы страницы будут загружены.*/

        window.addEventListener('load', () => {
            console.log('Страница загрузилась');
        });

        /*3. При клике на какой-либо тег на странице в консоль должно выводиться
             сообщение следующего вида:
             ○ Класс "super_element" присутствует в элементе "div".
             ○ Сообщение должно определять присутствует ли класс "super_element" у
             элемента и выводить в нижнем регистре верный тег в данной строке, по
             которому был совершен клик.
             ○ Необходимо использовать делегирование.*/

        const allEl = document.querySelectorAll('*');
        allEl.forEach(elem => {
            elem.addEventListener('click', function(e) {
                const className = elem.className;
                const tag = e.target.tagName.toLowerCase();
                if(className === 'super_element'){
                    console.log(`Класс ${className} присутствует в элементе ${tag}`);
                }
            })
        });
        //Эталонное решение 3-го задания

        /*document.body.addEventListener('click', (event) => {
            const target = event.target;
            const tagName = target.tagName.toLowerCase();
            const hasSuperClass = target.classList.contains('super_element');
            if (hasSuperClass) {
                console.log(`Класс "super_element" присутствует в элементе "${tagName}".`);
            } else {
                console.log(`Класс "super_element" отсутствует в элементе "${tagName}".`);
            }
        });*/

        /*4. Сделайте так, чтобы при наведении на <textarea> в консоли появлялось
             сообщение: "Вы навели на textarea."*/

        const textareaEl = document.querySelector('textarea');
        textareaEl.addEventListener('mouseover', () => {
            console.log('Вы навели на textarea.');
        });

        /*5. Необходимо повесить событие клика на тег <ul>. В обработчике события в
             консоль выводите текст, который записан внутри элемента кнопки, по которой
             был произведен клик. Если клик был не по кнопке, то ничего выводить не нужно.
             Необходимо использовать делегирование.*/

        const ulEl = document.querySelectorAll('ul');
        ulEl.forEach(elem => {
            elem.addEventListener('click', function(e) {
                const target = e.target;
                if(target.tagName.toLowerCase() === 'button'){ //для того, чтобы рядом с кнопкой не сраб.
                    console.log(target.textContent);
                }
            })
        });

        //С помощью JS необходимо изменить цвет заднего фона каждого второго тега <li>.

        const ulEl1 = document.querySelectorAll('ul li');
        ulEl1.forEach((elem, count) => {
            if(count === 1){  //если каждый четный => count % 2 === 1
                elem.style.backgroundColor = 'pink';
                count ++;
            }
        });


        

    </script>
  </body>
</html>
